// Sample HTTP requests for testing the API
// Use with REST Client extension in VS Code or copy to Postman

### 1. Create Order with Discount (Total > 500)
POST https://localhost:7249/api/orders
Content-Type: application/json

{
  "customerId": 1,
  "items": [
    { "productId": 1, "quantity": 4, "price": 150.00 }
  ]
}

### Expected Response:
// {
//   "orderId": 1,
//   "customerId": 1,
//   "total": 600.00,
//   "discount": 60.00,
//   "finalTotal": 540.00,
//   "status": "Pending"
// }

###

### 2. Create Order without Discount (Total ? 500)
POST https://localhost:7249/api/orders
Content-Type: application/json

{
  "customerId": 2,
  "items": [
    { "productId": 2, "quantity": 2, "price": 100.00 },
    { "productId": 3, "quantity": 1, "price": 50.00 }
  ]
}

### Expected Response:
// {
//   "orderId": 2,
//   "customerId": 2,
//   "total": 250.00,
//   "discount": 0.00,
//   "finalTotal": 250.00,
//   "status": "Pending"
// }

###

### 3. Get Order by ID
GET https://localhost:7249/api/orders/1

###

### 4. Get All Orders
GET https://localhost:7249/api/orders

###

### 5. Check Inventory Stock
GET https://localhost:7249/api/inventory/1

###

### 6. Reserve Stock (Thread-Safe Test)
POST https://localhost:7249/api/inventory/reserve
Content-Type: application/json

{
  "productId": 1,
  "quantity": 10
}

###

### 7. Set Stock Level (for testing)
PUT https://localhost:7249/api/inventory/1
Content-Type: application/json

{
  "quantity": 100
}

###

### 8. Test Validation Error (missing customerId)
POST https://localhost:7249/api/orders
Content-Type: application/json

{
  "items": [
    { "productId": 1, "quantity": 1, "price": 100.00 }
  ]
}

###

### 9. Test Insufficient Stock
POST https://localhost:7249/api/orders
Content-Type: application/json

{
  "customerId": 1,
  "items": [
    { "productId": 1, "quantity": 500, "price": 100.00 }
  ]
}

### Expected: 400 Bad Request - Insufficient stock

### 10. Create Multiple Orders to Test Discount Logic
POST https://localhost:7001/api/orders
Content-Type: application/json

{
  "customerId": 4,
  "items": [
    { "productId": 1, "quantity": 1, "price": 250.00 },
    { "productId": 2, "quantity": 1, "price": 251.00 }
  ]
}

### Expected: total=501, discount=50.10, finalTotal=450.90
